<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.3.15 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC8288 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8288.xml">
<!ENTITY RFC8259 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8259.xml">
]>

<?rfc toc="yes"?>
<?rfc tocindent="yes"?>
<?rfc sortrefs="yes"?>
<?rfc symrefs="yes"?>
<?rfc strict="yes"?>
<?rfc compact="yes"?>
<?rfc comments="yes"?>
<?rfc inline="yes"?>
<?rfc tocdepth="3"?>

<rfc docName="draft-pot-json-link-02" category="std">

  <front>
    <title>JSON serialization for Web Linking</title>

    <author initials="E." surname="Pot" fullname="Evert Pot">
      <organization></organization>
      <address>
        <email>me@evertpot.com</email>
        <uri>https://evertpot.com/</uri>
      </address>
    </author>
    <author initials="G." surname="Sullice" fullname="Gabriel Sullice">
      <organization>Acquia, Inc.</organization>
      <address>
        <email>gabriel@sullice.com</email>
        <uri>https://sullice.com</uri>
      </address>
    </author>

    <date year="2020" month="November" day="01"/>

    
    
    

    <abstract>


<t>This specification defines a serialization of Web Linking <xref target="RFC8288"/> in the
JSON <xref target="RFC8259"/> format.</t>



    </abstract>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>There are many JSON-based standards and formats that require the need to
express a link. Examples can be found in <xref target="draft-kelly-json-hal"/>, <xref target="JSON-API"/>,
<xref target="WEBTHING"/>, <xref target="draft-nottingham-json-home"/>, <xref target="COLLECTIONJSON"/>, <xref target="SIREN"/> 
and many others.</t>

<t>Because there hasn’t been an accepted reference for serializing Web Links in
JSON, it’s typical for authors of new formats to invent their own. This has
resulted in many minor differences between serializations, making it difficult
to write generic parsers.</t>

<t>This document is an attempt to define a standard JSON serialization for
Web linking. A primary goal is to define a format that’s relatively
uncontroversial and similar to existing serializations.</t>

<t>Furthermore, this specification defines an optional format for groups
of links and a recommendation for defining document-wide links.</t>

</section>
<section anchor="format" title="Format">

<section anchor="the-link-object" title="The link object.">

<t>A link will be encoded as a JSON <xref target="RFC8259"/> object. The object might support
the properties from the following chapters, but only <spanx style="verb">rel</spanx> and <spanx style="verb">href</spanx> are
required.</t>

<section anchor="rel" title="rel">

<t>The <spanx style="verb">rel</spanx> property refers to Section 3.3 of <xref target="RFC8288"/>. The <spanx style="verb">rel</spanx> property
must be a string.</t>

<t>There is no support to encode multiple relation types for a single link. To
encode multiple relation types, the link must appear multiple times in the
document.</t>

</section>
<section anchor="href" title="href">

<t>The <spanx style="verb">href</spanx> property refers to the Link Target, defined in Section 3.1 of
<xref target="RFC8288"/>.</t>

<t>The property is required and must be specified as a string.</t>

</section>
<section anchor="anchor" title="anchor">

<t>The <spanx style="verb">anchor</spanx> attribute is defined in Section 3.2 of <xref target="RFC8288"/>. This
specification alters the behavior of anchor. By default, if anchor is not
specified the link context is considered to be the URL of the representation
it is associated with.</t>

<t>If the link appears alongside a link with the ‘self’ relation type
(for example in <xref target="list"/> of links, the target of the self link MUST be used
as the default link context, unless the anchor attribute is defined.</t>

<t>If the link is not part of a list of links that has a link relation of type
‘self’, the default behavior is to use the URL of the representation it’s
associated with.</t>

<t>However, implementors of this specification MAY override this. Because JSON
links may have deeper contextual meaning depending on where it appears in
the document.</t>

</section>
<section anchor="other-attributes" title="Other attributes">

<t>The link object may also encode the <spanx style="verb">hreflang</spanx>, <spanx style="verb">media</spanx>, <spanx style="verb">type</spanx>
attributes. These properties are all defined in Section 3.4.1 of <xref target="RFC8288"/>.
In their JSON serialization they are all optional, and must be encoded
as a string.</t>

<t>Section 3.4.1 also defines a <spanx style="verb">title*</spanx> attribute, which may contain an
alternative encoding for the <spanx style="verb">title</spanx> attribute.</t>

<t>JSON only supports UTF-8 encoding. As such, it is not needed to make this
distinction. The link title is always encoded using the <spanx style="verb">title</spanx> property.</t>

</section>
<section anchor="extension-attributes" title="Extension Attributes">

<t>Similar to <xref target="RFC8288"/>, other documents may define new target attributes
for links. Parsers that don’t understand any attributes appearing on a link
MUST ignore them.</t>

</section>
<section anchor="example" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "href": "https://evertpot.com/",
  "rel": "author",
  "title": "Evert Pot"
}
]]></artwork></figure>

</section>
</section>
<section anchor="list" title="Lists of links">

<t>Authors that wish to encode a set of links in a document, SHOULD use an array
of links.</t>

<section anchor="example-1" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
[
  {
    "href": "https://evertpot.com/",
    "rel": "author",
    "title": "Evert Pot"
  },
  {
    "href": "https://test.example/",
    "rel": "self"
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="document-level-links" title="Document-level links">

<t>If a JSON representation wants to define document-level links, implementors
of this specification SHOULD use a top-level “links” property to define
these.</t>

<t>The “links” property contains a list of links.</t>

<t>The links appearing in this list are considered semantically equivalent to
the links appear in the <spanx style="verb">Link</spanx> header, as defined in Section 3.5 of
<xref target="RFC8288"/>.</t>

<t>Implementors of this specification MAY  make an effort to expose links from
the HTTP Link header and the document-level links via a unified interface.</t>

<section anchor="example-2" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "links": [ 
    {
      "href": "https://evertpot.com/",
      "rel": "author",
      "title": "Evert Pot"
    },
    {
      "href": "https://test.example/",
      "rel": "self"
    }
  ]
}
]]></artwork></figure>

</section>
</section>
</section>
<section anchor="iana-considerations" title="IANA considerations">

<t>We would like to register the ‘application/links+json’ media-type for documents
wishing to implement this spec.</t>

<t>TBD?</t>

</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC8288;
&RFC8259;


    </references>

    <references title='Informative References'>

<reference anchor="draft-nottingham-json-home" target="https://tools.ietf.org/html/draft-nottingham-json-home">
  <front>
    <title>Home Documents for HTTP APIs</title>
    <author initials="M." surname="Nottingham">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="draft-kelly-json-hal" target="https://tools.ietf.org/html/draft-kelly-json-hal">
  <front>
    <title>JSON Hypertext A:wpplication Language</title>
    <author initials="M." surname="Kelly">
      <organization>Stateless</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="JSON-API" target="https://jsonapi.org/format/">
  <front>
    <title>JSON:API</title>
    <author >
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="WEBTHING" target="https://iot.mozilla.org/wot/">
  <front>
    <title>Web Thing API</title>
    <author initials="." surname="Ben Francis">
      <organization>Mozilla Corporation</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="COLLECTIONJSON" target="http://amundsen.com/media-types/collection/format/">
  <front>
    <title>Collection+JSON</title>
    <author initials="." surname="Mike Amundsen">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="SIREN" target="https://github.com/kevinswiber/siren">
  <front>
    <title>Siren: a hypermedia specification for representing entities</title>
    <author initials="." surname="Kevin Swiber">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>


    </references>


<section anchor="typescript-definitions" title="Typescript definitions">

<figure><artwork type="typescript"><![CDATA[
type Link = {
  href: string,
  rel: string,
  anchor?: string,
  hreflang?: string,
  media?: string,
  type?: string,
}

type LinkSet = Link[];

type DocumentLinks = {
  links: LinkSet
}
]]></artwork></figure>

</section>
<section anchor="json-schema-definitions" title="JSON-SCHEMA definitions">

<section anchor="link" title="Link">

<figure><artwork type="json"><![CDATA[
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "...",
  "type": "object",
  "additionalProperties": true,
  "required": [
    "href",
    "rel"
  ],
  "properties": {
    "href": {
      "type": "string",
      "format":"uri-reference"
    },
    "rel": {
      "type": "string",
    },
    "title": {
      "type": "string"
    },
    "type": {
      "type": "string"
    },
    "hreflang": {
      "type": "string",
    },
    "media": {
      "type": "string"
    }
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="changelog" title="Changelog">

<section anchor="changes-since-" title="Changes since -??">

</section>
</section>


  </back>

<!-- ##markdown-source:
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
nmdaTp4/F/8Gi/PVWoUaAAA=

-->

</rfc>

