<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.13 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC8288 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8288.xml">
<!ENTITY RFC8259 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8259.xml">
]>


<rfc docName="draft-pot-json-link-00" category="std">

  <front>
    <title>JSON serialization for Web Linking</title>

    <author initials="E." surname="Pot" fullname="Evert Pot">
      <organization></organization>
      <address>
        <email>me@evertpot.com</email>
        <uri>https://evertpot.com/</uri>
      </address>
    </author>

    <date year="2019" month="December" day="30"/>

    
    
    

    <abstract>


<t>This specification defines a serialization of Web Linking <xref target="RFC8288"/> in the
JSON <xref target="RFC8259"/> format.</t>



    </abstract>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>There are many JSON-based standards and formats that require the need to
express a link. Examples can be found in <xref target="draft-kelly-json-hal"/>, <xref target="JSON-API"/>,
<xref target="WEBTHING"/>, <xref target="draft-nottingham-json-home"/>, <xref target="COLLECTIONJSON"/>, <xref target="SIREN"/> 
and many others.</t>

<t>Typically when new formats requiring links are defined, there is no common
reference to build on. This often results in minor differences between
serializations making it difficult to write generic parsers.</t>

<t>This document is an attempt to define a standard JSON serialization for
Web linking. A primary goal is to define a format that’s relatively
uncontroversial.</t>

</section>
<section anchor="format" title="Format">

<section anchor="the-link-object" title="The link object.">

<t>A link will be encoded as a JSON <xref target="RFC8259"/> object. The object might support
the properties from the following chapters, but only <spanx style="verb">rel</spanx> and <spanx style="verb">href</spanx> are
required.</t>

<section anchor="rel" title="rel">

<t>The <spanx style="verb">rel</spanx> property refers to Section 3.3 of <xref target="RFC8288"/>. The <spanx style="verb">rel</spanx> property
must be a string.</t>

<t>There is no support to encode multiple relation types for a single link. To
encode multiple relation types, the link must appear multiple times in the
document.</t>

</section>
<section anchor="href" title="href">

<t>The <spanx style="verb">href</spanx> property refers to the Link Target, defined in Section 3.1 of
<xref target="RFC8288"/>.</t>

<t>The property is required and must be specified as a string.</t>

</section>
<section anchor="anchor" title="anchor">

<t>The <spanx style="verb">anchor</spanx> attribute is defined in Section 3.2 of <xref target="RFC8288"/>. This
specification alters the behavior of anchor. By default, if anchor is not
specified the link context is considered to be the URL of the representation
it is associated with.</t>

<t>If the link appears in a list of links (defined in <xref target="list"/>), and the list
contains a link with relation type ‘self’, the target of the self link MUST
be used as the default link context.</t>

<t>If the link is not part of a list of links that has a link relation of type
‘self’, the default behavior is to use the URL of the representation it’s
associated with.</t>

<t>However, implementors of this specification MAY override this. Because JSON
links may have deeper contextual meaning depending on where it appears in
the document.</t>

</section>
<section anchor="other-attributes" title="Other attributes">

<t>The link object may also encode the <spanx style="verb">hreflang</spanx>, <spanx style="verb">media</spanx>, <spanx style="verb">type</spanx>
attributes. These properties are all defined in Section 3.4.1 of <xref target="RFC8288"/>.
In their JSON serialization they are all optional, and must be encoded
as a string.</t>

<t>Section 3.4.1 also defines a <spanx style="verb">title*</spanx> attribute, which may contain an
alternative encoding for the <spanx style="verb">title</spanx> attribute.</t>

<t>JSON only supports UTF-8 encoding. As such, it is not needed to make this
distinction. The link title is always encoded using the <spanx style="verb">title</spanx> property.</t>

<t>A common example of this are documents that have a concept of “embedded
resources”. When a representation is a compound document, the default link
context might refer to the URI of the sub-resource that is being embedded.</t>

</section>
<section anchor="extension-attributes" title="Extension Attributes">

<t>Similar to <xref target="RFC8288"/>, other documents may define new target attributes
for links. Parsers that don’t understand any attributes appearing on a link
MUST ignore them.</t>

</section>
<section anchor="example" title="Example">

<t>This section is non-normative</t>

<t><spanx style="verb">json
{
  "href": "https://evertpot.com/",
  "rel": "author",
  "title": "Evert Pot"
}
</spanx></t>

</section>
</section>
<section anchor="list" title="Lists of links">

<t>A list of links defined as a JSON array of one or more link objects.</t>

<section anchor="example-1" title="Example">

<t><spanx style="verb">json
[
  {
    "href": "https://evertpot.com/",
    "rel": "author",
    "title": "Evert Pot"
  },
  {
    "href": "https://test.example/",
    "rel": "self"
  }
}
</spanx></t>

</section>
</section>
<section anchor="document-level-links" title="Document-level links">

<t>If a JSON representation wants to define document-level links, implementors
of this specification SHOULD use a top-level “links” property to define
these.</t>

<t>The “links” property contains a list of links.</t>

<t>The links appearing in this list are considered semantically equivalent to
the links appear in the <spanx style="verb">Link</spanx> header, as defined in Section 3.5 of
<xref target="RFC8288"/>.</t>

<t>Implementors of this specification MAY  make an effort to expose links from
the HTTP Link header and the document-level links via a unified interface.</t>

<section anchor="example-2" title="Example">

<t><spanx style="verb">json
{
  "links": [ 
    {
      "href": "https://evertpot.com/",
      "rel": "author",
      "title": "Evert Pot"
    },
    {
      "href": "https://test.example/",
      "rel": "self"
    }
  ]
}
</spanx></t>

</section>
</section>
</section>
<section anchor="iana-considerations" title="IANA considerations">

<t>We would like to register the ‘application/links+json’ media-type for documents
wishing to implement this spec.</t>

<t>TBD?</t>

</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC8288;
&RFC8259;


    </references>

    <references title='Informative References'>

<reference anchor="draft-nottingham-json-home" target="https://tools.ietf.org/html/draft-nottingham-json-home">
  <front>
    <title>Home Documents for HTTP APIs</title>
    <author initials="M." surname="Nottingham">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="draft-kelly-json-hal" target="https://tools.ietf.org/html/draft-kelly-json-hal">
  <front>
    <title>JSON Hypertext A:wpplication Language</title>
    <author initials="M." surname="Kelly">
      <organization>Stateless</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="JSON-API" target="https://jsonapi.org/format/">
  <front>
    <title>JSON:API</title>
    <author >
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="WEBTHING" target="https://iot.mozilla.org/wot/">
  <front>
    <title>Web Thing API</title>
    <author initials="." surname="Ben Francis">
      <organization>Mozilla Corporation</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="COLLECTIONJSON" target="http://amundsen.com/media-types/collection/format/">
  <front>
    <title>Collection+JSON</title>
    <author initials="." surname="Mike Amundsen">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="SIREN" target="https://github.com/kevinswiber/siren">
  <front>
    <title>Siren: a hypermedia specification for representing entities</title>
    <author initials="." surname="Kevin Swiber">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>


    </references>


<section anchor="typescript-definitions" title="Typescript definitions">

<t>TBD</t>

</section>
<section anchor="json-schema-definitions" title="JSON-SCHEMA definitions">

<t>TBD</t>

</section>
<section anchor="changelog" title="Changelog">

<section anchor="changes-since-" title="Changes since -??">

</section>
</section>


  </back>

<!-- ##markdown-source:
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
evdO/AVlfv9yMRYAAA==

-->

</rfc>

