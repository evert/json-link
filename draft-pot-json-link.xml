<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.13 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC8288 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8288.xml">
<!ENTITY RFC8259 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8259.xml">
]>


<rfc docName="draft-pot-json-link-01" category="std">

  <front>
    <title>JSON serialization for Web Linking</title>

    <author initials="E." surname="Pot" fullname="Evert Pot">
      <organization></organization>
      <address>
        <email>me@evertpot.com</email>
        <uri>https://evertpot.com/</uri>
      </address>
    </author>
    <author initials="G." surname="Sullice" fullname="Gabriel Sullice">
      <organization>Acquia, Inc.</organization>
      <address>
        <email>gabriel@sullice.com</email>
        <uri>https://sullice.com</uri>
      </address>
    </author>

    <date year="2020" month="January" day="09"/>

    
    
    

    <abstract>


<t>This specification defines a serialization of Web Linking <xref target="RFC8288"/> in the
JSON <xref target="RFC8259"/> format.</t>



    </abstract>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>There are many JSON-based standards and formats that require the need to
express a link. Examples can be found in <xref target="draft-kelly-json-hal"/>, <xref target="JSON-API"/>,
<xref target="WEBTHING"/>, <xref target="draft-nottingham-json-home"/>, <xref target="COLLECTIONJSON"/>, <xref target="SIREN"/> 
and many others.</t>

<t>Because there hasn’t been an accepted reference for serializing Web Links in
JSON, it’s typical for authors of new formats to invent their own. This has
resulted in many minor differences between serializations, making it difficult
to write generic parsers.</t>

<t>This document is an attempt to define a standard JSON serialization for
Web linking. A primary goal is to define a format that’s relatively
uncontroversial and similar to existing serializations.</t>

<t>Furthermore, this specification defines an optional format for groups
of links and a recommendation for defining document-wide links.</t>

</section>
<section anchor="format" title="Format">

<section anchor="the-link-object" title="The link object.">

<t>A link will be encoded as a JSON <xref target="RFC8259"/> object. The object might support
the properties from the following chapters, but only <spanx style="verb">rel</spanx> and <spanx style="verb">href</spanx> are
required.</t>

<section anchor="rel" title="rel">

<t>The <spanx style="verb">rel</spanx> property refers to Section 3.3 of <xref target="RFC8288"/>. The <spanx style="verb">rel</spanx> property
must be a string.</t>

<t>There is no support to encode multiple relation types for a single link. To
encode multiple relation types, the link must appear multiple times in the
document.</t>

</section>
<section anchor="href" title="href">

<t>The <spanx style="verb">href</spanx> property refers to the Link Target, defined in Section 3.1 of
<xref target="RFC8288"/>.</t>

<t>The property is required and must be specified as a string.</t>

</section>
<section anchor="anchor" title="anchor">

<t>The <spanx style="verb">anchor</spanx> attribute is defined in Section 3.2 of <xref target="RFC8288"/>. This
specification alters the behavior of anchor. By default, if anchor is not
specified the link context is considered to be the URL of the representation
it is associated with.</t>

<t>If the link appears alongside a link with the ‘self’ relation type
(for example in <xref target="list"/> of links, the target of the self link MUST be used
as the default link context, unless the anchor attribute is defined.</t>

<t>If the link is not part of a list of links that has a link relation of type
‘self’, the default behavior is to use the URL of the representation it’s
associated with.</t>

<t>However, implementors of this specification MAY override this. Because JSON
links may have deeper contextual meaning depending on where it appears in
the document.</t>

</section>
<section anchor="other-attributes" title="Other attributes">

<t>The link object may also encode the <spanx style="verb">hreflang</spanx>, <spanx style="verb">media</spanx>, <spanx style="verb">type</spanx>
attributes. These properties are all defined in Section 3.4.1 of <xref target="RFC8288"/>.
In their JSON serialization they are all optional, and must be encoded
as a string.</t>

<t>Section 3.4.1 also defines a <spanx style="verb">title*</spanx> attribute, which may contain an
alternative encoding for the <spanx style="verb">title</spanx> attribute.</t>

<t>JSON only supports UTF-8 encoding. As such, it is not needed to make this
distinction. The link title is always encoded using the <spanx style="verb">title</spanx> property.</t>

</section>
<section anchor="extension-attributes" title="Extension Attributes">

<t>Similar to <xref target="RFC8288"/>, other documents may define new target attributes
for links. Parsers that don’t understand any attributes appearing on a link
MUST ignore them.</t>

</section>
<section anchor="example" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "href": "https://evertpot.com/",
  "rel": "author",
  "title": "Evert Pot"
}
]]></artwork></figure>

</section>
</section>
<section anchor="list" title="Lists of links">

<t>Authors that wish to encode a set of links in a document, SHOULD use an array
of links.</t>

<section anchor="example-1" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
[
  {
    "href": "https://evertpot.com/",
    "rel": "author",
    "title": "Evert Pot"
  },
  {
    "href": "https://test.example/",
    "rel": "self"
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="document-level-links" title="Document-level links">

<t>If a JSON representation wants to define document-level links, implementors
of this specification SHOULD use a top-level “links” property to define
these.</t>

<t>The “links” property contains a list of links.</t>

<t>The links appearing in this list are considered semantically equivalent to
the links appear in the <spanx style="verb">Link</spanx> header, as defined in Section 3.5 of
<xref target="RFC8288"/>.</t>

<t>Implementors of this specification MAY  make an effort to expose links from
the HTTP Link header and the document-level links via a unified interface.</t>

<section anchor="example-2" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "links": [ 
    {
      "href": "https://evertpot.com/",
      "rel": "author",
      "title": "Evert Pot"
    },
    {
      "href": "https://test.example/",
      "rel": "self"
    }
  ]
}
]]></artwork></figure>

</section>
</section>
</section>
<section anchor="iana-considerations" title="IANA considerations">

<t>We would like to register the ‘application/links+json’ media-type for documents
wishing to implement this spec.</t>

<t>TBD?</t>

</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC8288;
&RFC8259;


    </references>

    <references title='Informative References'>

<reference anchor="draft-nottingham-json-home" target="https://tools.ietf.org/html/draft-nottingham-json-home">
  <front>
    <title>Home Documents for HTTP APIs</title>
    <author initials="M." surname="Nottingham">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="draft-kelly-json-hal" target="https://tools.ietf.org/html/draft-kelly-json-hal">
  <front>
    <title>JSON Hypertext A:wpplication Language</title>
    <author initials="M." surname="Kelly">
      <organization>Stateless</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="JSON-API" target="https://jsonapi.org/format/">
  <front>
    <title>JSON:API</title>
    <author >
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="WEBTHING" target="https://iot.mozilla.org/wot/">
  <front>
    <title>Web Thing API</title>
    <author initials="." surname="Ben Francis">
      <organization>Mozilla Corporation</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="COLLECTIONJSON" target="http://amundsen.com/media-types/collection/format/">
  <front>
    <title>Collection+JSON</title>
    <author initials="." surname="Mike Amundsen">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="SIREN" target="https://github.com/kevinswiber/siren">
  <front>
    <title>Siren: a hypermedia specification for representing entities</title>
    <author initials="." surname="Kevin Swiber">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>


    </references>


<section anchor="typescript-definitions" title="Typescript definitions">

<figure><artwork type="typescript"><![CDATA[
type Link = {
  href: string,
  rel: string,
  anchor?: string,
  hreflang?: string,
  media?: string,
  type?: string,
}

type LinkSet = Link[];

type DocumentLinks = {
  links: LinkSet
}
]]></artwork></figure>

</section>
<section anchor="json-schema-definitions" title="JSON-SCHEMA definitions">

<section anchor="link" title="Link">

<figure><artwork type="json"><![CDATA[
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "...",
  "type": "object",
  "additionalProperties": true,
  "required": [
    "href",
    "rel"
  ],
  "properties": {
    "href": {
      "type": "string",
      "format":"uri-reference"
    },
    "rel": {
      "type": "string",
    },
    "title": {
      "type": "string"
    },
    "type": {
      "type": "string"
    },
    "hreflang": {
      "type": "string",
    },
    "media": {
      "type": "string"
    }
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="changelog" title="Changelog">

<section anchor="changes-since-" title="Changes since -??">

</section>
</section>


  </back>

<!-- ##markdown-source:
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
G+mtOgP9GQAA

-->

</rfc>

