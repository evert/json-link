<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.13 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC8288 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8288.xml">
<!ENTITY RFC8259 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8259.xml">
]>


<rfc docName="draft-pot-json-link-01" category="std">

  <front>
    <title>JSON serialization for Web Linking</title>

    <author initials="E." surname="Pot" fullname="Evert Pot">
      <organization></organization>
      <address>
        <email>me@evertpot.com</email>
        <uri>https://evertpot.com/</uri>
      </address>
    </author>
    <author initials="G." surname="Sullice" fullname="Gabriel Sullice">
      <organization>Acquia, Inc.</organization>
      <address>
        <email>gabriel@sullice.com</email>
        <uri>https://sullice.com</uri>
      </address>
    </author>

    <date year="2020" month="January" day="09"/>

    
    
    

    <abstract>


<t>This specification defines a serialization of Web Linking <xref target="RFC8288"/> in the
JSON <xref target="RFC8259"/> format.</t>



    </abstract>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>There are many JSON-based standards and formats that require the need to
express a link. Examples can be found in <xref target="draft-kelly-json-hal"/>, <xref target="JSON-API"/>,
<xref target="WEBTHING"/>, <xref target="draft-nottingham-json-home"/>, <xref target="COLLECTIONJSON"/>, <xref target="SIREN"/> 
and many others.</t>

<t>Because there hasn’t been an accepted reference for serializing Web Links in
JSON, it’s typical for authors of new formats to invent their own. This has
resulted in many minor differences between serializations, making it difficult
to write generic parsers.</t>

<t>This document is an attempt to define a standard JSON serialization for
Web linking. A primary goal is to define a format that’s relatively
uncontroversial and similar to existing serializations.</t>

<t>Furthermore, this specification defines an optional formats for groups
of links and a recommendation for defining document-wide links.</t>

</section>
<section anchor="format" title="Format">

<section anchor="the-link-object" title="The link object.">

<t>A link will be encoded as a JSON <xref target="RFC8259"/> object. The object might support
the properties from the following chapters, but only <spanx style="verb">rel</spanx> and <spanx style="verb">href</spanx> are
required.</t>

<section anchor="rel" title="rel">

<t>The <spanx style="verb">rel</spanx> property refers to Section 3.3 of <xref target="RFC8288"/>. The <spanx style="verb">rel</spanx> property
must be a string.</t>

<t>There is no support to encode multiple relation types for a single link. To
encode multiple relation types, the link must appear multiple times in the
document.</t>

</section>
<section anchor="href" title="href">

<t>The <spanx style="verb">href</spanx> property refers to the Link Target, defined in Section 3.1 of
<xref target="RFC8288"/>.</t>

<t>The property is required and must be specified as a string.</t>

</section>
<section anchor="anchor" title="anchor">

<t>The <spanx style="verb">anchor</spanx> attribute is defined in Section 3.2 of <xref target="RFC8288"/>. This
specification alters the behavior of anchor. By default, if anchor is not
specified the link context is considered to be the URL of the representation
it is associated with.</t>

<t>If the link appears alongside a link relationship with relation type ‘self’
(for example in <xref target="list"/> of links, the target of the self link MUST be used
as the default link context, unless the anchor attribute is defined.</t>

<t>If the link is not part of a list of links that has a link relation of type
‘self’, the default behavior is to use the URL of the representation it’s
associated with.</t>

<t>However, implementors of this specification MAY override this. Because JSON
links may have deeper contextual meaning depending on where it appears in
the document.</t>

</section>
<section anchor="other-attributes" title="Other attributes">

<t>The link object may also encode the <spanx style="verb">hreflang</spanx>, <spanx style="verb">media</spanx>, <spanx style="verb">type</spanx>
attributes. These properties are all defined in Section 3.4.1 of <xref target="RFC8288"/>.
In their JSON serialization they are all optional, and must be encoded
as a string.</t>

<t>Section 3.4.1 also defines a <spanx style="verb">title*</spanx> attribute, which may contain an
alternative encoding for the <spanx style="verb">title</spanx> attribute.</t>

<t>JSON only supports UTF-8 encoding. As such, it is not needed to make this
distinction. The link title is always encoded using the <spanx style="verb">title</spanx> property.</t>

</section>
<section anchor="extension-attributes" title="Extension Attributes">

<t>Similar to <xref target="RFC8288"/>, other documents may define new target attributes
for links. Parsers that don’t understand any attributes appearing on a link
MUST ignore them.</t>

</section>
<section anchor="example" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "href": "https://evertpot.com/",
  "rel": "author",
  "title": "Evert Pot"
}
]]></artwork></figure>

</section>
</section>
<section anchor="list" title="Lists of links">

<t>Authors that wish to encode a set of links in a document, SHOULD use an array
of links.</t>

<section anchor="example-1" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
[
  {
    "href": "https://evertpot.com/",
    "rel": "author",
    "title": "Evert Pot"
  },
  {
    "href": "https://test.example/",
    "rel": "self"
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="document-level-links" title="Document-level links">

<t>If a JSON representation wants to define document-level links, implementors
of this specification SHOULD use a top-level “links” property to define
these.</t>

<t>The “links” property contains a list of links.</t>

<t>The links appearing in this list are considered semantically equivalent to
the links appear in the <spanx style="verb">Link</spanx> header, as defined in Section 3.5 of
<xref target="RFC8288"/>.</t>

<t>Implementors of this specification MAY  make an effort to expose links from
the HTTP Link header and the document-level links via a unified interface.</t>

<section anchor="example-2" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "links": [ 
    {
      "href": "https://evertpot.com/",
      "rel": "author",
      "title": "Evert Pot"
    },
    {
      "href": "https://test.example/",
      "rel": "self"
    }
  ]
}
]]></artwork></figure>

</section>
</section>
</section>
<section anchor="iana-considerations" title="IANA considerations">

<t>We would like to register the ‘application/links+json’ media-type for documents
wishing to implement this spec.</t>

<t>TBD?</t>

</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC8288;
&RFC8259;


    </references>

    <references title='Informative References'>

<reference anchor="draft-nottingham-json-home" target="https://tools.ietf.org/html/draft-nottingham-json-home">
  <front>
    <title>Home Documents for HTTP APIs</title>
    <author initials="M." surname="Nottingham">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="draft-kelly-json-hal" target="https://tools.ietf.org/html/draft-kelly-json-hal">
  <front>
    <title>JSON Hypertext A:wpplication Language</title>
    <author initials="M." surname="Kelly">
      <organization>Stateless</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="JSON-API" target="https://jsonapi.org/format/">
  <front>
    <title>JSON:API</title>
    <author >
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="WEBTHING" target="https://iot.mozilla.org/wot/">
  <front>
    <title>Web Thing API</title>
    <author initials="." surname="Ben Francis">
      <organization>Mozilla Corporation</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="COLLECTIONJSON" target="http://amundsen.com/media-types/collection/format/">
  <front>
    <title>Collection+JSON</title>
    <author initials="." surname="Mike Amundsen">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="SIREN" target="https://github.com/kevinswiber/siren">
  <front>
    <title>Siren: a hypermedia specification for representing entities</title>
    <author initials="." surname="Kevin Swiber">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>


    </references>


<section anchor="typescript-definitions" title="Typescript definitions">

<figure><artwork type="typescript"><![CDATA[
type Link = {
  href: string,
  rel: string,
  anchor?: string,
  hreflang?: string,
  media?: string,
  type?: string,
}

type LinkSet = Link[];

type DocumentLinks = {
  links: LinkSet
}
]]></artwork></figure>

</section>
<section anchor="json-schema-definitions" title="JSON-SCHEMA definitions">

<section anchor="link" title="Link">

<figure><artwork type="json"><![CDATA[
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "...",
  "type": "object",
  "additionalProperties": true,
  "required": [
    "href",
    "rel"
  ],
  "properties": {
    "href": {
      "type": "string",
      "format":"uri-reference"
    },
    "rel": {
      "type": "string",
    },
    "title": {
      "type": "string"
    },
    "type": {
      "type": "string"
    },
    "hreflang": {
      "type": "string",
    },
    "media": {
      "type": "string"
    }
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="changelog" title="Changelog">

<section anchor="changes-since-" title="Changes since -??">

</section>
</section>


  </back>

<!-- ##markdown-source:
H4sIANCcF14AA6VYf28bNxL9n5+CUAr4cJXkNL3gEh2K1HGc2FfnByIHxSEo
YHqXktjsLrck17JqOJ/93gy5q11HyuXuCgSVSe5w5s2bN7M7mUxEroKeyUcP
Hz2cPPxh8vCpCCYUWBn9c/72jfTaGVWYP1UwtpIL6+Sv+kqem+qTqZYjkdus
UiVO504twqS2YfK7t9WkwAGYExmML63bzKQPuVBNWFk3E3IiJP4zlZ/Jk6l8
ZwP/HS2dXGsXujVdKlPMZKl/1rSOC6aZLXmrcWYmVyHUfnZ42N89HFzwairn
TVGYTPcueaWunNHFYCddtYxbP/u4tfu6+5vWLVWVUJrJo+yPxqixPKuyqais
K7F+rRG3fP/y+MmjJ0+6n4+fzoSpFv0jEcnKhgCEV6qMgK5sybtSBuWWOmxd
CdYWfmp0WEzhxeEqlMXhfhvRRMzwKf6WL2zWlLoKnpN7enHxTh69O/N8rsuX
7NAcvZ7KN53dUefvJ10Um3SNKv5bT4dP931kEp5uamRX3wR5NFvXNZCPdDxX
1bJRS73PWfj6C1lOa7h0JucBlCy0pwjJ+ATR7naX3FG1YV9jhg77nnF9zPA0
gfDryfOL07M3r3ZbMuBlaf80RaHY2treM0U1dbECpjLZ68KR/Xie60q+dKrK
jO+H9DqalsfW1dYxNNg+fnt+fnJ8cfb2DTv6hWPwS5VNlXtdcdGUOjdqEgC1
P8xsUeiMDO2M/Ljb/p5sj/bibz5peZQuwcb87P3JDk8IoqUJq+aKHfmkr/H0
2lxpd+iN4ye3d89pZSaVXBEp2Gnpa52ZRcsK4rHTtdO4lHgq6X/BaL/Xz1/o
RjnnK4WYTCZSXfngVBaEQFr8vQtyvTCV9vBhqI520RdHeXubqv3uDtfIsNKC
2ZzWHz/FekR3Gi8tTZ4XWogHEI7gbN4wxOSCdloq/CtVtYmsvVJe5xBVVeXK
5fClypMxj5tUAALQIDyCa2WlcTZYoW8IFXKc9HkqT25UWaMWZKYqeaVhAKki
X29vd9Xl3d0YO23R4C9xe9sSP+7t1524P+RkXGNSAApBIXCAFj47D1Ce60w1
nmNAJCvlq4MAP1EF8Fdlma4DAnN6ge0q05z5NiWUgTYbHjEx9mNpwgEA2tTI
ZcHnIx08Ja/S6y2GFs9cgzl0uXHSrqupZC7ADQEUm4LuBlbscmkg8zI3i+SK
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
Tp49E/8GbcTtLAcaAAA=

-->

</rfc>

