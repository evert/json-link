<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.13 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC8288 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8288.xml">
<!ENTITY RFC8259 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8259.xml">
]>


<rfc docName="draft-pot-json-link-00" category="std">

  <front>
    <title>JSON serialization for Web Linking</title>

    <author initials="E." surname="Pot" fullname="Evert Pot">
      <organization></organization>
      <address>
        <email>me@evertpot.com</email>
        <uri>https://evertpot.com/</uri>
      </address>
    </author>

    <date year="2019" month="December" day="30"/>

    
    
    

    <abstract>


<t>This specification defines a serialization of Web Linking <xref target="RFC8288"/> in the
JSON <xref target="RFC8259"/> format.</t>



    </abstract>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>There are many JSON-based standards and formats that require the need to
express a link. Examples can be found in <xref target="draft-kelly-json-hal"/>, <xref target="JSON-API"/>,
<xref target="WEBTHING"/>, <xref target="draft-nottingham-json-home"/>, <xref target="COLLECTIONJSON"/>, <xref target="SIREN"/> 
and many others.</t>

<t>Typically when new formats requiring links are defined, there is no common
reference to build on. This often results in minor differences between
serializations making it difficult to write generic parsers.</t>

<t>This document is an attempt to define a standard JSON serialization for
Web linking. A primary goal is to define a format that’s relatively
uncontroversial and similar to existing serializations.</t>

</section>
<section anchor="format" title="Format">

<section anchor="the-link-object" title="The link object.">

<t>A link will be encoded as a JSON <xref target="RFC8259"/> object. The object might support
the properties from the following chapters, but only <spanx style="verb">rel</spanx> and <spanx style="verb">href</spanx> are
required.</t>

<section anchor="rel" title="rel">

<t>The <spanx style="verb">rel</spanx> property refers to Section 3.3 of <xref target="RFC8288"/>. The <spanx style="verb">rel</spanx> property
must be a string.</t>

<t>There is no support to encode multiple relation types for a single link. To
encode multiple relation types, the link must appear multiple times in the
document.</t>

</section>
<section anchor="href" title="href">

<t>The <spanx style="verb">href</spanx> property refers to the Link Target, defined in Section 3.1 of
<xref target="RFC8288"/>.</t>

<t>The property is required and must be specified as a string.</t>

</section>
<section anchor="anchor" title="anchor">

<t>The <spanx style="verb">anchor</spanx> attribute is defined in Section 3.2 of <xref target="RFC8288"/>. This
specification alters the behavior of anchor. By default, if anchor is not
specified the link context is considered to be the URL of the representation
it is associated with.</t>

<t>If the link appears in a list of links (defined in <xref target="list"/>), and the list
contains a link with relation type ‘self’, the target of the self link MUST
be used as the default link context.</t>

<t>If the link is not part of a list of links that has a link relation of type
‘self’, the default behavior is to use the URL of the representation it’s
associated with.</t>

<t>However, implementors of this specification MAY override this. Because JSON
links may have deeper contextual meaning depending on where it appears in
the document.</t>

</section>
<section anchor="other-attributes" title="Other attributes">

<t>The link object may also encode the <spanx style="verb">hreflang</spanx>, <spanx style="verb">media</spanx>, <spanx style="verb">type</spanx>
attributes. These properties are all defined in Section 3.4.1 of <xref target="RFC8288"/>.
In their JSON serialization they are all optional, and must be encoded
as a string.</t>

<t>Section 3.4.1 also defines a <spanx style="verb">title*</spanx> attribute, which may contain an
alternative encoding for the <spanx style="verb">title</spanx> attribute.</t>

<t>JSON only supports UTF-8 encoding. As such, it is not needed to make this
distinction. The link title is always encoded using the <spanx style="verb">title</spanx> property.</t>

</section>
<section anchor="extension-attributes" title="Extension Attributes">

<t>Similar to <xref target="RFC8288"/>, other documents may define new target attributes
for links. Parsers that don’t understand any attributes appearing on a link
MUST ignore them.</t>

</section>
<section anchor="example" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "href": "https://evertpot.com/",
  "rel": "author",
  "title": "Evert Pot"
}
]]></artwork></figure>

</section>
</section>
<section anchor="list" title="Lists of links">

<t>A list of links defined as a JSON array of one or more link objects.</t>

<section anchor="example-1" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
[
  {
    "href": "https://evertpot.com/",
    "rel": "author",
    "title": "Evert Pot"
  },
  {
    "href": "https://test.example/",
    "rel": "self"
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="document-level-links" title="Document-level links">

<t>If a JSON representation wants to define document-level links, implementors
of this specification SHOULD use a top-level “links” property to define
these.</t>

<t>The “links” property contains a list of links.</t>

<t>The links appearing in this list are considered semantically equivalent to
the links appear in the <spanx style="verb">Link</spanx> header, as defined in Section 3.5 of
<xref target="RFC8288"/>.</t>

<t>Implementors of this specification MAY  make an effort to expose links from
the HTTP Link header and the document-level links via a unified interface.</t>

<section anchor="example-2" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "links": [ 
    {
      "href": "https://evertpot.com/",
      "rel": "author",
      "title": "Evert Pot"
    },
    {
      "href": "https://test.example/",
      "rel": "self"
    }
  ]
}
]]></artwork></figure>

</section>
</section>
</section>
<section anchor="iana-considerations" title="IANA considerations">

<t>We would like to register the ‘application/links+json’ media-type for documents
wishing to implement this spec.</t>

<t>TBD?</t>

</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC8288;
&RFC8259;


    </references>

    <references title='Informative References'>

<reference anchor="draft-nottingham-json-home" target="https://tools.ietf.org/html/draft-nottingham-json-home">
  <front>
    <title>Home Documents for HTTP APIs</title>
    <author initials="M." surname="Nottingham">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="draft-kelly-json-hal" target="https://tools.ietf.org/html/draft-kelly-json-hal">
  <front>
    <title>JSON Hypertext A:wpplication Language</title>
    <author initials="M." surname="Kelly">
      <organization>Stateless</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="JSON-API" target="https://jsonapi.org/format/">
  <front>
    <title>JSON:API</title>
    <author >
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="WEBTHING" target="https://iot.mozilla.org/wot/">
  <front>
    <title>Web Thing API</title>
    <author initials="." surname="Ben Francis">
      <organization>Mozilla Corporation</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="COLLECTIONJSON" target="http://amundsen.com/media-types/collection/format/">
  <front>
    <title>Collection+JSON</title>
    <author initials="." surname="Mike Amundsen">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="SIREN" target="https://github.com/kevinswiber/siren">
  <front>
    <title>Siren: a hypermedia specification for representing entities</title>
    <author initials="." surname="Kevin Swiber">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>


    </references>


<section anchor="typescript-definitions" title="Typescript definitions">

<figure><artwork type="typescript"><![CDATA[
type Link = {
  href: string,
  rel: string,
  anchor?: string,
  hreflang?: string,
  media?: string,
  type?: string,
}

type LinkSet = Link[];

type DocumentLinks = {
  links: LinkSet
}
]]></artwork></figure>

</section>
<section anchor="json-schema-definitions" title="JSON-SCHEMA definitions">

<t>TBD</t>

</section>
<section anchor="changelog" title="Changelog">

<section anchor="changes-since-" title="Changes since -??">

</section>
</section>


  </back>

<!-- ##markdown-source:
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
4j8XC1JNihYAAA==

-->

</rfc>

