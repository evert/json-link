<?xml version="1.0" encoding="UTF-8"?>
  <?xml-stylesheet type="text/xsl" href="rfc2629.xslt" ?>
  <!-- generated by https://github.com/cabo/kramdown-rfc2629 version 1.2.13 -->

<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!ENTITY RFC8288 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8288.xml">
<!ENTITY RFC8259 SYSTEM "https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.8259.xml">
]>


<rfc docName="draft-pot-json-link-01" category="std">

  <front>
    <title>JSON serialization for Web Linking</title>

    <author initials="E." surname="Pot" fullname="Evert Pot">
      <organization></organization>
      <address>
        <email>me@evertpot.com</email>
        <uri>https://evertpot.com/</uri>
      </address>
    </author>

    <date year="2020" month="January" day="09"/>

    
    
    

    <abstract>


<t>This specification defines a serialization of Web Linking <xref target="RFC8288"/> in the
JSON <xref target="RFC8259"/> format.</t>



    </abstract>


  </front>

  <middle>


<section anchor="introduction" title="Introduction">

<t>There are many JSON-based standards and formats that require the need to
express a link. Examples can be found in <xref target="draft-kelly-json-hal"/>, <xref target="JSON-API"/>,
<xref target="WEBTHING"/>, <xref target="draft-nottingham-json-home"/>, <xref target="COLLECTIONJSON"/>, <xref target="SIREN"/> 
and many others.</t>

<t>Because there hasn’t been an accepted reference for serializing Web Links in
JSON, it’s typical for authors of new formats to invent their own. This has
resulted in many minor differences between serializations, making it difficult
to write generic parsers.</t>

<t>This document is an attempt to define a standard JSON serialization for
Web linking. A primary goal is to define a format that’s relatively
uncontroversial and similar to existing serializations.</t>

<t>Furthermore, this specification defines an optional formats for groups
of links and a recommendation for defining document-wide links.</t>

</section>
<section anchor="format" title="Format">

<section anchor="the-link-object" title="The link object.">

<t>A link will be encoded as a JSON <xref target="RFC8259"/> object. The object might support
the properties from the following chapters, but only <spanx style="verb">rel</spanx> and <spanx style="verb">href</spanx> are
required.</t>

<section anchor="rel" title="rel">

<t>The <spanx style="verb">rel</spanx> property refers to Section 3.3 of <xref target="RFC8288"/>. The <spanx style="verb">rel</spanx> property
must be a string.</t>

<t>There is no support to encode multiple relation types for a single link. To
encode multiple relation types, the link must appear multiple times in the
document.</t>

</section>
<section anchor="href" title="href">

<t>The <spanx style="verb">href</spanx> property refers to the Link Target, defined in Section 3.1 of
<xref target="RFC8288"/>.</t>

<t>The property is required and must be specified as a string.</t>

</section>
<section anchor="anchor" title="anchor">

<t>The <spanx style="verb">anchor</spanx> attribute is defined in Section 3.2 of <xref target="RFC8288"/>. This
specification alters the behavior of anchor. By default, if anchor is not
specified the link context is considered to be the URL of the representation
it is associated with.</t>

<t>If the link appears alongside a link relationship with relation type ‘self’
(for example in <xref target="list"/> of links, the target of the self link MUST be used
as the default link context, unless the anchor attribute is defined.</t>

<t>If the link is not part of a list of links that has a link relation of type
‘self’, the default behavior is to use the URL of the representation it’s
associated with.</t>

<t>However, implementors of this specification MAY override this. Because JSON
links may have deeper contextual meaning depending on where it appears in
the document.</t>

</section>
<section anchor="other-attributes" title="Other attributes">

<t>The link object may also encode the <spanx style="verb">hreflang</spanx>, <spanx style="verb">media</spanx>, <spanx style="verb">type</spanx>
attributes. These properties are all defined in Section 3.4.1 of <xref target="RFC8288"/>.
In their JSON serialization they are all optional, and must be encoded
as a string.</t>

<t>Section 3.4.1 also defines a <spanx style="verb">title*</spanx> attribute, which may contain an
alternative encoding for the <spanx style="verb">title</spanx> attribute.</t>

<t>JSON only supports UTF-8 encoding. As such, it is not needed to make this
distinction. The link title is always encoded using the <spanx style="verb">title</spanx> property.</t>

</section>
<section anchor="extension-attributes" title="Extension Attributes">

<t>Similar to <xref target="RFC8288"/>, other documents may define new target attributes
for links. Parsers that don’t understand any attributes appearing on a link
MUST ignore them.</t>

</section>
<section anchor="example" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "href": "https://evertpot.com/",
  "rel": "author",
  "title": "Evert Pot"
}
]]></artwork></figure>

</section>
</section>
<section anchor="list" title="Lists of links">

<t>Authors that wish to encode a set of links in a document, SHOULD use an array
of links.</t>

<section anchor="example-1" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
[
  {
    "href": "https://evertpot.com/",
    "rel": "author",
    "title": "Evert Pot"
  },
  {
    "href": "https://test.example/",
    "rel": "self"
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="document-level-links" title="Document-level links">

<t>If a JSON representation wants to define document-level links, implementors
of this specification SHOULD use a top-level “links” property to define
these.</t>

<t>The “links” property contains a list of links.</t>

<t>The links appearing in this list are considered semantically equivalent to
the links appear in the <spanx style="verb">Link</spanx> header, as defined in Section 3.5 of
<xref target="RFC8288"/>.</t>

<t>Implementors of this specification MAY  make an effort to expose links from
the HTTP Link header and the document-level links via a unified interface.</t>

<section anchor="example-2" title="Example">

<t>This section is non-normative.</t>

<figure><artwork type="json"><![CDATA[
{
  "links": [ 
    {
      "href": "https://evertpot.com/",
      "rel": "author",
      "title": "Evert Pot"
    },
    {
      "href": "https://test.example/",
      "rel": "self"
    }
  ]
}
]]></artwork></figure>

</section>
</section>
</section>
<section anchor="iana-considerations" title="IANA considerations">

<t>We would like to register the ‘application/links+json’ media-type for documents
wishing to implement this spec.</t>

<t>TBD?</t>

</section>


  </middle>

  <back>

    <references title='Normative References'>

&RFC8288;
&RFC8259;


    </references>

    <references title='Informative References'>

<reference anchor="draft-nottingham-json-home" target="https://tools.ietf.org/html/draft-nottingham-json-home">
  <front>
    <title>Home Documents for HTTP APIs</title>
    <author initials="M." surname="Nottingham">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="draft-kelly-json-hal" target="https://tools.ietf.org/html/draft-kelly-json-hal">
  <front>
    <title>JSON Hypertext A:wpplication Language</title>
    <author initials="M." surname="Kelly">
      <organization>Stateless</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="JSON-API" target="https://jsonapi.org/format/">
  <front>
    <title>JSON:API</title>
    <author >
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="WEBTHING" target="https://iot.mozilla.org/wot/">
  <front>
    <title>Web Thing API</title>
    <author initials="." surname="Ben Francis">
      <organization>Mozilla Corporation</organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="COLLECTIONJSON" target="http://amundsen.com/media-types/collection/format/">
  <front>
    <title>Collection+JSON</title>
    <author initials="." surname="Mike Amundsen">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>
<reference anchor="SIREN" target="https://github.com/kevinswiber/siren">
  <front>
    <title>Siren: a hypermedia specification for representing entities</title>
    <author initials="." surname="Kevin Swiber">
      <organization></organization>
    </author>
    <date year="n.d."/>
  </front>
</reference>


    </references>


<section anchor="typescript-definitions" title="Typescript definitions">

<figure><artwork type="typescript"><![CDATA[
type Link = {
  href: string,
  rel: string,
  anchor?: string,
  hreflang?: string,
  media?: string,
  type?: string,
}

type LinkSet = Link[];

type DocumentLinks = {
  links: LinkSet
}
]]></artwork></figure>

</section>
<section anchor="json-schema-definitions" title="JSON-SCHEMA definitions">

<section anchor="link" title="Link">

<figure><artwork type="json"><![CDATA[
{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "...",
  "type": "object",
  "additionalProperties": true,
  "required": [
    "href",
    "rel"
  ],
  "properties": {
    "href": {
      "type": "string",
      "format":"uri-reference"
    },
    "rel": {
      "type": "string",
    },
    "title": {
      "type": "string"
    },
    "type": {
      "type": "string"
    },
    "hreflang": {
      "type": "string",
    },
    "media": {
      "type": "string"
    }
  }
}
]]></artwork></figure>

</section>
</section>
<section anchor="changelog" title="Changelog">

<section anchor="changes-since-" title="Changes since -??">

</section>
</section>


  </back>

<!-- ##markdown-source:
H4sIAOuUF14AA6VYf2/bOBL9n5+CcBfI4dZ2ut0rrvVh0UvT9JLb9AfqFItD
sUAYiba5lUQtScXxBulnvzdDSpYSu9e7KxBUpqjhzJs3b0aaTCYiV0HP5JPH
Tx5PHv8wefxcBBMKrIz+OX/3VnrtjCrMHyoYW8mFdfIXfSXPTfXZVMuRyG1W
qRK7c6cWYVLbMPnN22pSYAPMiQzGl9ZtZtKHXKgmrKybCTkREv9M5WfyZCrf
28C/o6WTa+1Ct6ZLZYqZLPXfNa3jgGlmS77VODOTqxBqPzs87N89FJV1JTy+
1jhLfnh9/OzJs2fd5dPnM2GqRX9L9L6yISCqlSpjECtb8l0pg3JLHbanBWsL
PzU6LKbWLQ9XoSwO99uIJiKqp/gtX9msKXUVPAN6enHxXh69P/O8r8NIdhCN
3kzl287uqPP3sy6KTTpGFf+tp8On+z5y4k83NRDVN0EezdZ1XZgsUuBcVctG
LfU+Z+Hrz2Q5reHQmZwH0KDQniIk4xNEu9tdckfVhn2NGTrse8acnOFpAuGX
k5cXp2dv/7HbkgEXSvuHKQrF1tb2nini8cUKmMpkrwtH9uN5qSv52qkqM74f
0ptoWh5bV1vH0OD28bvz85Pji7N3b9nRB47BL1U2Ve51xUQtdW7UJABqf5jZ
otAZGdoZ+XF3+3uyPdqLv/ms5VE6BDfmZx9OdnhCEC1NWDVX7MhnfY2n1+ZK
u0NvHD+5PXtOKzOp5IpIwU5LX+vMLFpWEI+drp3GocRTSf8Fo/1eP3+mE+Wc
jxRiMplIdeWDU1kQAmnx9w7I9cJU2sOHoSLZRV+Q5O1tqva7Oxwjw0oLZnNa
f/oc6xHdaTy0NHleaCEeybMqOJs3DDG5oJ2WCn+lqjaRtVfK6xxCpqpcuRy+
VHky5nGSCkDg9wZQ0bGy0tgbrNA3hAo5Tpo4lSc3qqxRCzJTlbzSMIBUka+3
t7vq8u5ujDtt0eCXuL1tiR/v7dedeH/IybjGpAAUgkLgAC18dh6gvNSZajzH
gEhWylcHAX6iCuCvyjJdBwTm9AK3q0xz5tuUUAbabHjExNiPpQkHAGhTI5cF
74908JS8Sq+3GFo8cw3m0OHGSbuuppK5ADcEUGwKOhtYsculgczL3CySKx5u
hjV5OqCIH2M7k8ME3m0y2BE4bO1M0HKpK2zPZK2cjxDwkXnSaGk8Rx6CLutA
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
EP8GyrGVN3sZAAA=

-->

</rfc>

